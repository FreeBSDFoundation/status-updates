# 01 2026 Status Update for Roman Bogorodskiy

## **Reporting Period:** [2026-01-19] - [2026-01-25]

### Project: libvirt on FreeBSD
#### **Overall Status:** On Track
#### **Summary**

Got the Quartz64 board more or less working with a USB Ethernet adaptor,
so started getting libvirt-TCK working on arm64. To make this work,
submitted patches to stop using of
[the deprecated -A and -I bhyve flags](https://lists.libvirt.org/archives/list/devel@lists.libvirt.org/thread/3FUQMMQIW4HLVAPWM5HA5VXPPAELNG5G/)
and improved
[loader handling](https://lists.libvirt.org/archives/list/devel@lists.libvirt.org/thread/ALMSJAP7INMSG4WWVVI3GG6ZDLCXSCQ6/),
now waiting for these to be reviewed.

Briefly tested the hotplug patches, and plan to give it a few more rounds.
The goal here is to make adding libvirt support for this feature trouble-free.

#### **Completed Tasks**

 * libvirt/bhyve UTC clock patch merged.

#### **Blockers**

Outline of the `bhyve` issues that are either blockers or create
a noticeable inconvenience for development:

 * [bootindex not working](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=279720),
 * [resume issues](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=290735),
 * [tpm issues](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=287326),
 * [virtio-input not working](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=290364),
 * [arm64 CPU frequency reporting not working](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=291810),
 * Lack of capabilities reporting in bhyve.

#### **Next Steps**

 * Continue working on arm64 support,
 * Check if I can extend CI with arm64 runs using `qemu-system-aarch64` or the Quartz64 board,
 * Continue working on suspend/resume and other features.

---

## **Reporting Period:** [2026-01-12] - [2026-01-18]

### Project: libvirt on FreeBSD
#### **Overall Status:** On Track
#### **Summary**

Updated libvirt related ports to the latest release, `12.0.0`.

Continued with arm64 experiments. Wanted to move the QEMU VM under libvirt
to make CI management easier, but apparently libvirt/QEMU does not support
setting the `virtualization=on` flag required for the nested virtualization
support, so I have submitted a
[patch](https://lists.libvirt.org/archives/list/devel@lists.libvirt.org/thread/YEXWGGNZ4T7RBBRIHGAL5VPLDZQPJIDX/)
for it.

Submitted a
[patch](https://lists.libvirt.org/archives/list/devel@lists.libvirt.org/thread/25B7FVUNQDBHOTFTAWP356ZFV33G56DF/)
to work around the lack of UTC clock support in bhyve/arm64.

The rest of the week I was busy with the
[Pine64 Quartz64 Model A board](https://people.freebsd.org/~novel/misc/quartz64_model_a_dmesg.txt).

At this point I can have
[either bhyve or ethernet working on it](https://lists.freebsd.org/archives/freebsd-virtualization/2026-January/003420.html),
but not both at the same time.

#### **Completed Tasks**

 * Ports updated to `12.0.0`.

#### **Blockers**

Outline of the `bhyve` issues that are either blockers or create
a noticeable inconvenience for development:

 * [bootindex not working](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=279720),
 * [resume issues](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=290735),
 * [tpm issues](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=287326),
 * [virtio-input not working](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=290364),
 * [arm64 CPU frequency reporting not working](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=291810),
 * Lack of capabilities reporting in bhyve.

#### **Next Steps**

 * Continue working on arm64 support, and, specifically, get a working
   local environment,
 * Test [Bojan's PCI hotplug patches](https://lists.freebsd.org/archives/freebsd-virtualization/2026-January/003412.html),
 * Check if I can extend CI with arm64 runs using `qemu-system-aarch64` or the Quartz64 board,
 * Continue working on suspend/resume and other features.

---

## **Reporting Period:** [2026-01-05] - [2026-01-11]

### Project: libvirt on FreeBSD
#### **Overall Status:** On Track
#### **Summary**

Merged patch series for initial arm64 support for libvirt/bhyve
and merged `virtio-scsi` device support.

Merged [MTU configuration support for SLIRP](https://reviews.freebsd.org/D54133)
for bhyve.

Took some time to rebase and test the
[EDK2 update](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=285554).

Continued experimenting with `qemu-system-aarch64` based bhyve/arm64 testing.
Was able to build libvirt and run tests, though running tests requires
increasing timeouts. The next step is to figure out whether it is feasible
to run libvirt-TCK integration testing against a bhyve/arm64 running inside QEMU.

#### **Completed Tasks**

 * Initial arm64 support for libvirt/bhyve landed,
 * The `virtio-scsi` device support for libvirt/bhyve landed,
 * MTU configuration for the SLIRP backend landed.

#### **Blockers**

Outline of the `bhyve` issues that are either blockers or create
a noticeable inconvenience for development:

 * [bootindex not working](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=279720),
 * [resume issues](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=290735),
 * [tpm issues](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=287326),
 * [virtio-input not working](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=290364),
 * [arm64 CPU frequency reporting not working](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=291810),
 * Lack of capabilities reporting in bhyve.

#### **Next Steps**

 * Continue working on arm64 support,
 * Check if I can extend CI with arm64 runs using `qemu-system-aarch64`,
 * Continue working on suspend/resume and other features.

---

## **Reporting Period:** [2025-12-29] - [2026-01-04]

### Project: libvirt on FreeBSD
#### **Overall Status:** On Track
#### **Summary**

Updated libvirt to use `bhyve -s help` to probe supported devices
instead of calling `bhyve -s N,device` and parsing error messages.
This patch is now merged.

Completed `virtio-scsi` device support and submitted for review.

Finished testing of the
[SLIRP issue](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=291616)
and also updated [D54133](https://reviews.freebsd.org/D54133),
which is now waiting for review.

arm64 patch series is still waiting for review.

In the meantime, I learned that I can run bhyve in `qemu-system-aarch64`
if I start it with ` -M virt,gic-version=3,virtualization=on`. I didn't
do much testing beyond booting a VM, but if that works reasonably well (and fast),
I'll try to extend my FreeBSD libvirt CI with arm64 runs.

#### **Completed Tasks**

 * Improved capabilities probing in the libvirt/bhyve driver.

#### **Blockers**

Outline on the `bhyve` issues that are either blockers or create
a noticeable inconvenience for development:

 * [bootindex not working](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=279720),
 * [resume issues](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=290735),
 * [tpm issues](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=287326),
 * [virtio-input not working](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=290364),
 * [arm64 CPU frequency reporting not working](https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=291810),
 * Lack of capabilities reporting in bhyve.

#### **Next Steps**

 * Continue working on arm64 support, address review requests,
 * Check if I can extend CI with arm64 runs using `qemu-system-aarch64`,
 * Continue working on virtio-scsi, suspend/resume and other features,
 * Continue working on the [bhyve SLIRP DR](https://reviews.freebsd.org/D54133).

---
