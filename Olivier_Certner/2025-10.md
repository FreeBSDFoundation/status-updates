# October 2025 Status Update for Olivier Certner

## **Reporting Period:** 2025-10-22 - 2025-10-28

Off for most of the period.

### `mac_do(4)`/`mdo(1)`
- Start writing an article for the FreeBSD Journal.

### Miscellaneous
Various reporting and catch up after being off.

### Review of others' work
- D53362 ("libutil: defer setting the MAC label until after the login class"): Review and approve.
- D53160 ("kthread: Add a wrapper macro KPROC_START"): After a diff update, re-review and suggest changing the names of the new macro and its arguments.

## **Reporting Period:** 2025-10-15 - 2025-10-21

Off for one day.

### RPC/NFS bugs (spin-off of `cr_gid`, new `setgroups(2)`/`getgroups(2)`)
- Discuss with re@ about eventually including the fixes before BETA2.
- MFC into `stable/15` and send commit hashes to re@.

### unionfs
- Review D53079 ("unionfs: fix NULL deref on closing an fd passed through SCM_RIGHTS"): Approve. Give more explanations on `VOP_OPEN()`/`VOP_CLOSE()` on D52625 ("fusefs: fix a kernel panic regarding SCM_RIGHTS").
- D53107 ("unionfs: avoid vdrop()ing a locked but doomed vnode"): Approve.

### `mac_do(4)`/`mdo(1)`
- PR 290352 ("mdo(1) causes kernel panic in jail"): Respond, asking for a reproducer on stock FreeBSD (panic observed on HardenedBSD by the submitter).

### srcmgr@ lurker
- Attend the meeting.
- Ping for D52885.

### FreeBSD quarterly status reports
- Submit a report for my Graphics/DRM work: "DRM Drivers Slowdowns and Freezes Fixes".
- Submit a report for the "`cr_gid`, new `setgroups(2)`/`getgroups(2)`" project: "Process Credentials' Groups-Related Changes in FreeBSD 15".
- Amend Kushagra Srivastava (my GSoC student)'s report on `mac_do(4)`/`mdo(1)` ("mac_do(4) and mdo(1) Improvements").

### Miscellaneous
- D49618 ("ps.1: '-A' and '-a': Note change in behavior"): Answer late note by bdrewery@, there is no going back.

### Review of others' work
- D53137 ("VOP_OPENCLOSE.9: note that td may be NULL for VOP_CLOSE"): Approve.
- D53142 ("linprocfs: Add nodes for inotify"): Approve.
- D53160 ("kthread: Add a wrapper macro KPROC_START"): Approve with a few suggestions.

## **Reporting Period:** 2025-10-08 - 2025-10-14

### RPC/NFS bugs (spin-off of `cr_gid`, new `setgroups(2)`/`getgroups(2)`)
- Rework and split D52263 ("krpc: UNIX auth: Prevent DoS, fix various OOB accesses") into revisions D52960 to D52964 (and a few additional mostly cosmetic commits).
- Warn re@ that these might get into 15.0 only before BETA3.
- Isolate and extract from D52273 ("NFS users: Do not pass effective GID in group list, fill all fields") the only remaining urgent problem that needs to be fixed before 15.0 (the rest can and will wait).
- Push it without review as it is quite straightforward (but I needed a second take to get it right...).
- Discuss with rmacklem@ on D52960 to D52964, make small amendments, and have him approve the whole series.
- Commit D52960 to D52964 and additional commits.
- Add a commit to that series (2110ae0ef9d6 ("sys/rpc: UNIX auth: Do not log on bogus AUTH_SYS messages")) to avoid filling quickly filling logs on a bad client.

### `cr_gid`, new `setgroups(2)`/`getgroups(2)`
- Some more improvements to the getgroups(2) manual page (commit c363dcbe75b2 ("getgroups.2: Simplifications; Be clearer on programs to be modified")).

### Release (15.0)
- Merge to stable/15 all commits scheduled to appear in BETA1.

### LDWG
- Attend part of the meeting.

### Support, misc
- Answer Mark Millard's mail "FYI: 15stable-amd64-quarterly has had 2 successful builds, despite not being distributed yet" and ask him create a bug in upstream Poudriere.
- PR 290140 ("mdo(1) and mac_do(4) not working on 15ALPHA5"): Close as works-as-intended.  Discuss with folks to explain relevant design choices and how they can get what they want more easily.
- Answer ivy@'s mail about "openat("./...", O_CREAT) fails even though the directory exists".
- PR 275594 ("High CPU usage by arc_prune; analysis and fix"): Handle a new message talking about the ARC pruning problem returning; after some exchanges, it looks like a different problem; have the commenter create a new PR for this.

### Review of others' work
- D52832 ("packages: Install development manpages in the -dev package"): Propose to shrink the needed directives, iterate a bit and finally approve.
- D52982 ("kstack: Fix iterator usage in vm_thread_stack_create()"): Created by markj@ following my report.  Approve.
- D53062 ("imgact: Mark brandinfo and note structures as const"): Approve, and mostly disclaim kib@'s reservations.

## **Reporting Period:** 2025-10-01 - 2025-10-07

### Release (15.0), `mac_do(4)`/`mdo(1)`
- MFC patch to `mac_do(4)` manual page about how supplementary groups are treated.
- MFC `vn_fullpath_jail()` and the fix for the "confused deputy" problem in `mac_do(4)` (while checking the executable path).
- MFC the support for arbitrary target credentials in `mdo(1)`.

### Release (15.0), misc
- MFC suppressing duplicate description for `WANTPARENT` in `namei(9)` manual page.

### Graphics/DRM
- Update GitHub drm-kmod issue #302: Mention this is fixed, and the only pending actions are to create new versions of DRM ports.
- Update PR 285747 ("graphics/drm-61-kmod: Freezes with AMD GPU"): Suggest that this is a duplicate of PR 277476, and to test again with recent code.

### srcmgr@ lurker
- Create D52885 ("style.9: Encourage style changes when doing significant modifications"), cater to recent comments.
- Open a bug (#6 in GitHub repo https://github.com/freebsd/srcmgr) to track work on MFC metadata in git notes.

### Admin, Laptop project
- Create bug #89 ("Investigate and fix increasing freezes with AMD GPUs DRM drivers", https://github.com/FreeBSDFoundation/proj-laptop/issues/89), detailing work of the past months.
- Update #22 ("High performance from laptops with heterogeneous cores") for September (essentially nothing, worked on other topics)

### Misc, build infra
- Create D52850 ("jemalloc: Fix activating debug on WITHOUT_MALLOC_PRODUCTION") (concerns stable/14, putting it in line with stable/15), commit after review.

### VFS
- Create D52935 ("nullfs: Apply comments from D38761 (style fixes, small improvements)"), and commit after review. See D52819 below.

### `cr_gid`, new `setgroups(2)`/`getgroups(2)`
- Completely rework and split D52263 ("krpc: UNIX auth: Prevent DoS, fix various OOB accesses") (to be finished)
- Rework D52273 as well ("NFS users: Do not pass effective GID in group list, fill all fields") (pending)

### Review of others' work
- D51889 ("rc: Teach netwait to wait for DAD"): Find another bug.  Approve once fixed.
- D52819 ("nullfs: smr-protected hash lookup and locking"): Some comments, approve.  Unfortunately, that was too late, hence creation of D52935 (see above).
