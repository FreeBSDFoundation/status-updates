# November 2025 Status Update for Bjoern Zeeb

## **Reporting Period:** 2025-11-24 - 2025-11-30


## **Reporting Period:** 2025-11-17 - 2025-11-23

### Project: Mediatek mt76 wireless driver work on FreeBSD
#### **Overall Status:** To be seen
#### **Summary**

Some Framework Laptops are shipping with Mediatek MT7922 chipsets.  But users in
general (PR264300) are requesting support for various Mediatek WiFi chipsets.

#### **Completed Tasks**

- [x] Found hardware on which the MT7922 just works for me so I can do the actual
      work.  Cross-checked with both Fedora 24 (as suggested by FW) and Arch 2025-11
      which has the same Linux 6.17 kernel driver as imported to FreeBSD.

- [x] Got first half of Firmware loaded and running on FreeBSD too.

- [x] (side note) I have a MT7925 ordered given that was mentioned by FW/Ed as well.

#### **Ongoing Tasks**

- [ ] Try to get firmware patch running.
      Currently we are loading the first part of the firmware but the MCU patch
      does not laod.  We get the TX completion interrupt again but no further.
      Using the old laptop as a test setup I ran builds over the weekend in the
      hope that the card will also behave under bhyve there (not just netbooted)
      and that I can then run FreeBSD and Linux in better alternation for tracing.

- [ ] Figure out why the card does not want to behave in the FW.16.
      My suspicion is that in the FW.16 the card will only behave when used in the
      internal wireless slot but not in another PCIe slot on the extension card
      (while rtw88 and brcm and others are fine there).

#### **Blockers**

- [ ] We need to sort the LinuxKPI VM page vs, struct page situation and along
      fix drm-kmod as well which relies on that historic shortcut in LinuxKPI
      too as well as the page pool parts as I am already seeing calls into them
      though they are likely only relevant for WED setups.


### Miscellaneous
#### **Summary**

In addition to Realtek and Mediatek maintainance tasks are also on the radar.
These inlcude maintaining wireless drivers, bug fixes, and LinuxKPI changes for
wireless.

#### **Completed Tasks**

- [x] iwlwifi(4) BE200 with new firmware panics (PR290808).
- [x] Updated release notes for the Linux v6.17 driver imports and 11ac support
      for various wireless bits. Also left remarks about ongoing problems given
      some fixes we too late for re@ to be included in the release.
- [x] (side note) mlx5en(4) SR-IOV no longer works after LinuxKPI PCI changes
      for wireless driver updates (PR290793).  Got a test setup working with the
      help of the community, diagnosed the actual cause which results in the same
      work around as proposed by the submitter.  The final fix pending due to
      handling error in callers and testing with wireless drivers.
- [x] Done some PR classification and follow-up.
- [x] (side note) Got myself an iwlwifi 1x1 setup in order to debug further PRs
      reported on these CNVio setups.

#### **Ongoing Tasks**

- [ ] Ports firmware updates are still pending in review.


## **Reporting Period:** 2025-11-10 - 2025-11-16

### Project: 802.11ac support for Realtek rtw88 and rtw89 wireless drivers
#### **Overall Status:** On Track
#### **Summary**

Realtek rtw88(4) and rtw89(4) wireless drivers are currently limited to
802.11a/b/g due to extra LinuxKPI support needed beyond the KPI usage
of iwlwifi(4).

#### **Completed Tasks**

- [x] make rtw88 authenticate again (merged back to 15.0);  this works
      for me with all cards I have available to test on multiple machines;
      a user still reports problems but traces indicate it is net80211
      restarting the authentication to another BSS node.  User reports
      that it works on 5Ghz but not on 2.4Ghz.

#### **Ongoing Tasks**

- [ ] ports firmware framework updates are in review to allow us to
      selectively enable 11n and 11ac beyond iwlwifi.
      This was done along with some other cleanup and an iwlwifi
      firmware update (see below).

- [ ] Rename FreeBSD-specific tunables in rtw8x to match iwlwifi(4) ones
      (but 11n) so we can re-use the names also in the ports framework
      to selectively enable newer standards.
      It seems this got mixed up in the v6.16 to v6.17 update.

- [ ] 11n and 11ac support for rtw88

#### **Next Steps**

- [ ] 11n and 11ac support for rtw89

### Project: Mediatek mt76 wireless driver work on FreeBSD
#### **Overall Status:** To be seen
#### **Summary**

Some Framework Laptops are shipping with Mediatek MT7922 chipsets.  But users in
general (PR264300) are requesting support for various Mediatek WiFi chipsets.

#### **Ongoing Tasks**

- [ ] Try to get firmware running.
      While the driver compiles with changes to LinuxKPI, attaches, and loads the
      firmware, we never get the interrupt that the firmware is running.
      The error has been known to Linux in the past and Mediatek had multiple
      changes to the mt76 driver in order to improve the situation over the last
      years.

#### **Next Steps**

- [ ] Compare again with a Linux version booted natively and not in bhyve to see
      if that makes any difference.

#### **Blockers**

- [ ] We need to sort the LinuxKPI VM page vs, struct page situation and along
      fix drm-kmod as well which relies on that historic shortcut in LinuxKPI
      too.


### Miscellaneous
#### **Summary**

In addition to Realtek and Mediatek maintainance tasks are also on the radar.
These inlcude maintaining wireless drivers, bug fixes, and LinuxKPI changes for
wireless.

#### **Completed Tasks**

- [ ] iwlwifi(4) firmware update (PR290808) for BE200 is in review.
      The firmware version in the current pacakge is below the minimium accepted
      version after the driver update to v6.17.  This had gone unnoticed as the
      v6.16 drivers, which were staged for more than 2 months, were on short
      notice replaced by the newer version for 15.0-R.  In addition the way
      iwlwifi(4) selects the firmware has become a lot more dynamic.  The way
      we used to collect PCI IDs and firmware versions no longer works and after
      some discussion a new way was found, which will hopefully remain stable
      for long.  The alternative would be to give up to flavors for anything new
      and just have them all together in one firmware package for iwlwifi.

- [ ] (on a side note only) graphics/drm-515-kmod was fixed (PR290432).  It got
      broken by LinuxKPI cleanup for the v6.16/6.17 driver update;  other branches
      of drm-kmod where fixed before.  No graphics people on x11@ had picked it up.
      Given I built a poudriere setup for firmware testing I could also test the
      patch needed here on all branches.

#### **Next Steps**

- [ ] iwlwifi(4) BE200 with new firmware panics (PR290808).  Fix this.


## **Reporting Period:** 2025-11-04 - 2025-11-09

### Project: 802.11ac support for Realtek rtw88 and rtw89 wireless drivers
#### **Overall Status:** On Track
#### **Summary**

Realtek rtw88(4) and rtw89(4) wireless drivers are currently limited to
802.11a/b/g due to extra LinuxKPI support needed beyond the KPI usage
of iwlwifi(4).

#### **Blockers**

- [ ] make rtw88 authenticate again (which also is a blocker for
      15.0-RELEASE)

#### **Next Steps**

- [ ] 11n and 11ac support for rtw88
- [ ] 11n and 11ac support for rtw89

