# February 2026 Status Update for Bjoern Zeeb

## **Reporting Period:** 2026-02-23 - 2026-03-01



## **Reporting Period:** 2026-02-16 - 2026-02-22

### Maintaining wireless drivers
#### **Summary**

Multiple drivers have fixes for various projects and problem reports (PRs).
As of Linux v6.19-rc6 all the bits we were waiting for were available.
While most drivers are merged, iwlwifi is still pending as during testing
a LinuxKPI 802.11 issue was discovered.

#### **Ongoing and Completed Tasks**

- [x] Started to put minor LinuxKPI fixes and refinements (idr, dma-attrs)
      out for review and discussion;  idr will be needed for mt76.

- [x] Finished folding the LinuxKPI 802.11 state machine functions back
      together and run testing.  This will go into main for wider testing
      next week.

- [x] During the work on the state machine and running regression tests
      I managed to reproduce an iwlwifi firmware crash reported by a
      user last year. This was debugged, and, in the end, fixed.
      The fix will go into main next week before or along with the state
      machine changes.

- [ ] Now that the state machine parts are sorted I can finally fix the
      last bits needed to merge iwlwifi from v6.19.  We will see if the
      fixes to LinuxKPI 802.11 will also help to fix other problems seen
      by users.  Testing will show.
      I hope to land the updates for both LinuxKPI and iwlwifi next week
      as well to close this work item for now and hopefully in good time
      before the 15.1 release cycle will start.

- [x] Debugged a problem I faced while testing.  It turns out that certain
      driver/chipset combinations have trouble on arm64 but rotating the
      cards into amd64 they work fine.  This is independent on whether they
      are directly put into a slot, using an adapater (e.g., M.2->mPCie),
      or if they are behind a PCI switch network.  This is likely still some
      arch-specific insufficiency in LinuxKPI.  I tried to narrow it down
      without success so far.  For me I learnt to not waste time currently
      on testing on arm64 should a card not work there and run into
      timeouts.  I will continue to test what does work on arm64 already
      there.
      This will need to be addressed one day but is not currently priority
      but stays a background task.


## **Reporting Period:** 2026-02-09 - 2026-02-15

### Project: Mediatek mt76 wireless driver work on FreeBSD
#### **Overall Status:** Ongoing and Blocked
#### **Summary**

This part of the project aims to bring at least mt7921 and mt7925 support from
the mt76 drivers (ideally some of the other chipset support as well).

#### **Ongoing and Completed Tasks**

- [ ] Further testing mt7925 has shown another problem with our
      existing LinuxKPI IDR implementation.  The problem was known
      from the beginning according to code comments and it seems we
      are at the point when this needs a re-do.
      In Linux various idr functions can be called in, not to say,
      random order.  We see 3x init, a few accessed, destroy, more
      accesses, ... and in FreeBSD that does not work as we have a
      mutex along with idr which gets initialized and detroyed.

- [ ] I am also seeing disconnects every 295-298 beacons currently.
      Trying to debug this and some other parts I found a bpf panic
      which is triggered by some late work in that area.  I got a
      temporary workaround from the developer but a poroper fix is
      still outstanding.

#### **Blockers**

- [ ] LinuxKPI `struct page` integration/review.
- [ ] LinuxKPI `page pool` integration/review.
- [ ] LinuxKPI `idr` implementation.

### Project: Driver updates to Linux v6.19-based versions
#### **Overall Status:** Ongoing
#### **Summary**

We are regularly updating the driver from the upstream Linux versions.
v6.19 specifically had a few fixes which are supposed to help both
Realtek and Mediatek.

#### **Ongoing and Completed Tasks**

- [x] Most reviews for needed LinuxKPI changes were accepted, so they
      got upstreamed along with some net80211 and other bits.

- [x] The Realtek rtw89 driver got merged from the vendor branch and
      with that should have a known bug fixed.  USB bus attachments
      are prepared for when the updated LinuxKPI USB implementation
      can be committed.

- [x] The currently still not enabled ath10k driver got also merged.

- [x] The Broadcom 80211 drivers got merged and build infrastructure
      got prepared for brcmfmac (the driver mostly known for SDIO-WiFi
      on a lot of ARM SoCs).  SDIO and USB got prepared; PCI and USB
      are currently known to load.  The driver is not enabled for the
      build as crucial bits (LinuxKPI cfg80211, netdevice) are missing.

- [ ] The update of Intels iwlwifi mvm/mld are still pending as they
      exposed another problem which will hopefully be solved next week
      (some LinuxKPI 802.11 work from the early days of bringup needs
      cleaning up first).


## Project: Native net80211 updates (tech debt)
#### **Overall Status:** Resuming
#### **Summary**

In order to get net80211, the wireless stack of FreeBSD, to support newer
standards, we will have to break internals and user facing APIs.

#### **Ongoing and Completed Tasks**

- [x] Port manager came back with the log files from the exp-run.
      I went through the broken ports, categorised most of them and
      manually checked which parts of the net80211 ioctl space they are
      consuming.   The plan is to make sure lib80211 will have adequate
      support for all of that and then to slowly migrate them use the
      library.  That will hopefully give us more flexibility to change
      things under the hood without breaking the user space applications
      all the time.


## **Reporting Period:** 2026-02-02 - 2026-02-08

### Project: Mediatek mt76 wireless driver work on FreeBSD
#### **Overall Status:** Ongoing and Blocked
#### **Summary**

This part of the project aims to bring at least mt7921 and mt7925 support from
the mt76 drivers (ideally some of the other chipset support as well).

#### **Ongoing and Completed Tasks**

- [x] Updated local trees for Linux v6.19-based LinuxKPI and drivers,
      including struct page and page pool prototypes.

- [x] merged select changes for mt76 and LinuxKPI and upstreamed them
      to the main branch so they are out and can be used by other
      work as well or will be maintained in the tree rather than
      locally.

- [x] Done basic testing and both mt7921/25 have packets again with
      11n and 11ac disabled.  There is another set of works to be
      upstreamed to help with (some of) that.

- [ ] Keep working on more stability for the drivers and some
      shutdown panics.

- [ ] USB attachments are also done with some opportunistic LinuxKPI
      support.

#### **Blockers**

- [ ] LinuxKPI `struct page` integration/review.
- [ ] LinuxKPI `page pool` integration/review.


## Project: Native net80211 updates (tech debt)
#### **Overall Status:** Resuming
#### **Summary**

In order to get net80211, the wireless stack of FreeBSD, to support newer
standards, we will have to break internals and user facing APIs.

#### **Ongoing and Completed Tasks**

- [ ] In order to understand the extend of the usage of the ioctl API
      (one of the things we will have to break) I asked for an
      `exp-run`;  that is a complete package build run with some proposed
      changes.  In this case I hid the ioctls from anything outside the
      src.git tree so that any port using them would break.
      port manager will do a full build run for us and report back.
      See https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=293016


## **Reporting Period:** 2026-01-26 - 2026-02-01

### Other bus attachment support
#### **Summary**

Given there is interest in SDIO support again I continued cleaning up my
branch which contains the USB and SDIO attachment changes.

#### **Ongoing and Completed Tasks**

- [x] Opened review for LinuxKPI USB and preconditions

- [x] Updated review for quirk to eject the CDROM which comes builtin
      with some wireless dongled containing Windows/OSX drivers.

- [x] Opened further reviews for rtw88 USB and rtw89 USB

- [x] Got packets on both rtw88 and rtw89 USB devices

- [ ] Looked at mt76 USB as well and started to implement missing bits
      (for more, see Mediatek item below)

There is a review stack starting at https://reviews.freebsd.org/D54878
(find the "Stack" option in the "Revision Contents" block to see the
full list).

Once the entire stack is reviewed it is likely that we will have basic
wireless support for modern USB dongles (as supported by Linux as well).
There are more Realtek (and Mediatek?) chipsets out there which are not
yet supported but the assumption is that all relevant ones will be added
to the upstream open source drivers over time.

### Project: Mediatek mt76 wireless driver work on FreeBSD
#### **Overall Status:** Ongoing and Blocked
#### **Summary**

Mt76 is going to be the priority for the next weeks again.

#### **Ongoing**

- [ ] forward port and merge the LinuxKPI page changes to the branch with
      the updated Linux v6.19-rc based drivers.  There were internal changes
      related to DMA32 and hope is that some workarounds implemented during
      bringup can be removed again.

- [ ] Check for any updates needed for drm-kmod integrating PAGE_IS_LKPI_PAGE
      work on the updated master branch.

#### **Blockers**

- [ ] LinuxKPI `struct page` integration/review.
- [ ] LinuxKPI `page pool` integration/review.

I will try to see if this can happen, once I am done with forward merging
and testing.

### Open Issues

#### **Blockers on Reviews**

- [ ] Updating the rtw89 driver to resolve
      PR https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=285228
      is blocked on
      https://reviews.freebsd.org/D54808
      https://reviews.freebsd.org/D55029 (approved)

- [ ] mt76 needs the following two reviews to be resolved:
      https://reviews.freebsd.org/D54811
      https://reviews.freebsd.org/D54841

- [ ] It is unclear for which driver I had hit this currently but it needs
      to happen anyway:
      https://reviews.freebsd.org/D54861

#### **Other open TODO and in-progress**

- [ ] Folding the LinuxKPI 802.11 state machine functions back together
      is a pre-condition for the next iwlwifi item.

- [ ] Updating iwlwifi is blocked on an internal LinuxKPI 802.11 change.
      Hope this is going to happen next week.
      There should be another follow-up change or two to fix some recently
      submitted PRs.

- [ ] Merge further LinuxKPI 802.11 changes to enable 11n/11ac
      on rtw8x drivers

- [ ] Then put LinuxKPI SDIO support into review

