# October  Status Update for Tom Jones

## **Reporting Period:** 2025-11-10 - 2025-11-16 (Week 46)

### Project: Improve FreeBSD Kernel Debugging
#### **Overall Status:** On Track
#### **Summary**

FreeBSD offers a variety of kernel debugging interfaces, the main interface
available on all systems is using the system console, typically via a graphics
interface. On modern system the graphics driver is routed via a GPU which
requires a lot of code to drive. This can lead to situations when the graphics
system crashes or the graphics output stops functioning where interactive
debugging is impossible or debugging at all isn't possible.

This project aims to provide a debugging mechanism that will work in the
absence of a functional graphics driver, first by updating and upstreaming xHCI
debug, by documenting and improving other debug interfaces and my adding
support for debugging interfaces in newer systems.

#### **Completed Tasks**

- [x] Build debug activator and test functionality with xhci debug
    This showed that the adapter doesn't require rd/rd to funcation and just a
    passive usb-c 3.0 adapter can fill this role
- [x] get xhci debug working with usb-c ports
- [x] outline parts for usb-c power control board and debug activator
- [x] background on port control ics and their use with usb-c
    this was thought a requirement to do usb-c xhci debug, but it appear to not
    be the case

#### **Ongoing Tasks**
- [ ] Test loader support
- [ ] Test kernel support
- [ ] Track down stall in host mode driver

#### **Next Steps**

- [ ] Resolve stall in host mode driver

### Misc

- background on power analysis with perfetto
- background: summary of differences between ftrace (linux) and dtrace

## **Reporting Period:** 2025-10-27 - 2025-11-09 (Week 45)

### Project: Improve FreeBSD Kernel Debugging
#### **Overall Status:** On Track
#### **Summary**

FreeBSD offers a variety of kernel debugging interfaces, the main interface
available on all systems is using the system console, typically via a graphics
interface. On modern system the graphics driver is routed via a GPU which
requires a lot of code to drive. This can lead to situations when the graphics
system crashes or the graphics output stops functioning where interactive
debugging is impossible or debugging at all isn't possible.

This project aims to provide a debugging mechanism that will work in the
absence of a functional graphics driver, first by updating and upstreaming xHCI
debug, by documenting and improving other debug interfaces and my adding
support for debugging interfaces in newer systems.

#### **Completed Tasks**

- [x] Compare linux/freebsd host mode driver performance to understand stall
- [x] Build debug activator and test functionality with framework EC

#### **Ongoing Tasks**
- [ ] Test loader support
- [ ] Test kernel support
- [ ] Build debug activator and test for xhci debug support
- [ ] Track down stall in host mode driver

#### **Next Steps**

- [ ] Debug loader stall wth xhci debug support on linux qemu kvm
- [ ] Resolve stall in host mode driver
